# RAG Crawl

RAG ะผะธะบัะพัะตัะฒะธั ะดะปั ะธะฝะดะตะบัะฐัะธะธ ะดะพะบัะผะตะฝัะพะฒ ะธ ะดะธะฐะปะพะณะพะฒะพะณะพ ะธะฝัะตััะตะนัะฐ ั ัะพะฒัะตะผะตะฝะฝัะผ Next.js ััะพะฝัะตะฝะดะพะผ.

## ๐ ะัะพะฑะตะฝะฝะพััะธ

- **ะกะพะฒัะตะผะตะฝะฝัะน ะฒะตะฑ-ะธะฝัะตััะตะนั** ะฝะฐ Next.js ั shadcn/ui
- **RAG (Retrieval-Augmented Generation)** ะดะปั ัะผะฝะพะณะพ ะฟะพะธัะบะฐ ะฟะพ ะดะพะบัะผะตะฝัะฐะผ
- **ะะตะบัะพัะฝะพะต ััะฐะฝะธะปะธัะต** ะฝะฐ ะฑะฐะทะต Qdrant ะดะปั ัะตะผะฐะฝัะธัะตัะบะพะณะพ ะฟะพะธัะบะฐ
- **Azure OpenAI** ะดะปั ัะผะฑะตะดะดะธะฝะณะพะฒ ะธ ะณะตะฝะตัะฐัะธะธ ะพัะฒะตัะพะฒ
- **LlamaIndex** ะดะปั ะพะฑัะฐะฑะพัะบะธ ะดะพะบัะผะตะฝัะพะฒ ะธ RAG ะฟะฐะนะฟะปะฐะนะฝะฐ
- **PostgreSQL** ะดะปั ััะฐะฝะตะฝะธั ะผะตัะฐะดะฐะฝะฝัั
- **FastAPI** ะดะปั ะฒััะพะบะพะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพะณะพ REST API
- **Docker Compose** ะดะปั ะปะพะบะฐะปัะฝะพะน ัะฐะทัะฐะฑะพัะบะธ

## ๐๏ธ ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
โ   Next.js       โ    โ   FastAPI       โ    โ   Qdrant        โ
โ   Frontend      โโโโโถโ   Backend       โโโโโถโ   Vector DB     โ
โ   (Port 3000)   โ    โ   (Port 8000)   โ    โ   (Port 6333)   โ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
                              โ
                              โผ
                       โโโโโโโโโโโโโโโโโโโ
                       โ   PostgreSQL    โ
                       โ   Metadata DB   โ
                       โ   (Port 5432)   โ
                       โโโโโโโโโโโโโโโโโโโ
```

## ๐๏ธ ะขะตัะฝะพะปะพะณะธัะตัะบะธะน ััะตะบ

### Frontend
- **Next.js 15** - React ััะตะนะผะฒะพัะบ ั App Router
- **TypeScript** - ัะธะฟะธะทะฐัะธั
- **shadcn/ui** - ัะพะฒัะตะผะตะฝะฝัะต UI ะบะพะผะฟะพะฝะตะฝัั
- **Tailwind CSS** - ััะธะปะธะทะฐัะธั
- **Lucide Icons** - ะธะบะพะฝะบะธ

### Backend
- **Python 3.11+** ั Poetry
- **FastAPI** - REST API ััะตะนะผะฒะพัะบ
- **LlamaIndex** - RAG ะฟะฐะนะฟะปะฐะนะฝ
- **SQLAlchemy** - ORM ะดะปั PostgreSQL
- **Qdrant** - ะฒะตะบัะพัะฝะฐั ะฑะฐะทะฐ ะดะฐะฝะฝัั
- **Azure OpenAI** - ัะผะฑะตะดะดะธะฝะณะธ ะธ LLM

## ๐ ะัััััะน ะทะฐะฟััะบ

### 1. ะะปะพะฝะธัะพะฒะฐะฝะธะต ัะตะฟะพะทะธัะพัะธั

```bash
git clone <repository-url>
cd rag_crawl
```

### 2. ะะฐัััะพะนะบะฐ ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั

```bash
cp env.example .env
```

ะะฐะฟะพะปะฝะธัะต ัะฐะนะป `.env` ะฒะฐัะธะผะธ ะฝะฐัััะพะนะบะฐะผะธ:

```env
# Azure OpenAI
AZURE_OPENAI_API_KEY=your_api_key
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
AZURE_OPENAI_API_VERSION=2023-05-15
AZURE_OPENAI_EMBEDDING_MODEL=text-embedding-ada-002
AZURE_OPENAI_CHAT_MODEL=gpt-4

# Database
DATABASE_URL=postgresql://username:password@localhost:5432/rag_crawl

# Qdrant
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=optional_api_key

# Application
APP_HOST=0.0.0.0
APP_PORT=8000
LOG_LEVEL=INFO
```

### 3. ะะฐะฟััะบ ั Docker Compose

```bash
# ะะฐะฟััะบ ะฒัะตั ัะตัะฒะธัะพะฒ (PostgreSQL + Qdrant)
docker-compose up -d

# ะะถะธะดะฐะฝะธะต ะทะฐะฟััะบะฐ ัะตัะฒะธัะพะฒ
sleep 10
```

### 4. ะฃััะฐะฝะพะฒะบะฐ Python ะทะฐะฒะธัะธะผะพััะตะน

```bash
# ะฃััะฐะฝะพะฒะบะฐ Poetry (ะตัะปะธ ะฝะต ัััะฐะฝะพะฒะปะตะฝ)
curl -sSL https://install.python-poetry.org | python3 -

# ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน
poetry install
```

### 5. ะะธะณัะฐัะธะธ ะฑะฐะทั ะดะฐะฝะฝัั

```bash
poetry run alembic upgrade head
```

### 6. ะะฐะฟััะบ Backend API

```bash
poetry run python -m rag_crawl.main
```

API ะฑัะดะตั ะดะพัััะฟะตะฝ ะฝะฐ http://localhost:8000
ะะพะบัะผะตะฝัะฐัะธั API: http://localhost:8000/docs

### 7. ะฃััะฐะฝะพะฒะบะฐ Frontend ะทะฐะฒะธัะธะผะพััะตะน

```bash
cd frontend
npm install
```

### 8. ะะฐะฟััะบ Frontend

```bash
npm run dev
```

Frontend ะฑัะดะตั ะดะพัััะฟะตะฝ ะฝะฐ http://localhost:3000

## ๐ ะัะฟะพะปัะทะพะฒะฐะฝะธะต

### ะะตะฑ-ะธะฝัะตััะตะนั

1. ะัะบัะพะนัะต http://localhost:3000
2. ะ ะฟัะฐะฒะพะน ะฟะฐะฝะตะปะธ ะทะฐะณััะทะธัะต ะดะพะบัะผะตะฝัั (.txt, .pdf, .docx, .md)
3. ะะพะบัะผะตะฝัั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะธะฝะดะตะบัะธัััััั ะฒ ะฒะตะบัะพัะฝัั ะฑะฐะทั
4. ะะฐะดะฐะฒะฐะนัะต ะฒะพะฟัะพัั ะฒ ัะฐัะต - ัะธััะตะผะฐ ะฝะฐะนะดะตั ัะตะปะตะฒะฐะฝัะฝัั ะธะฝัะพัะผะฐัะธั
5. ะฃะฟัะฐะฒะปัะนัะต ะดะพะบัะผะตะฝัะฐะผะธ ัะตัะตะท ะธะฝัะตััะตะนั

### API

ะะพะปะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั API ะดะพัััะฟะฝะฐ ะฝะฐ http://localhost:8000/docs

ะัะฝะพะฒะฝัะต endpoints:
- `POST /api/chat` - ะพัะฟัะฐะฒะบะฐ ัะพะพะฑัะตะฝะธะน ะฒ ัะฐั
- `POST /api/documents/upload` - ะทะฐะณััะทะบะฐ ะดะพะบัะผะตะฝัะพะฒ
- `GET /api/documents` - ะฟะพะปััะตะฝะธะต ัะฟะธัะบะฐ ะดะพะบัะผะตะฝัะพะฒ
- `DELETE /api/documents/{id}` - ัะดะฐะปะตะฝะธะต ะดะพะบัะผะตะฝัะฐ

## ๐ง ะะฐะทัะฐะฑะพัะบะฐ

### ะััะธัะตะบัััะฝัะต ะฟัะธะฝัะธะฟั

1. **ะะฐะทะดะตะปะตะฝะธะต ะพัะฒะตัััะฒะตะฝะฝะพััะธ**: Frontend ะธ Backend ะฟะพะปะฝะพัััั ัะฐะทะดะตะปะตะฝั
2. **ะะดะฐะฟัะธะฒะฝะพััั API**: ะะตะณะบะฐั ะฐะดะฐะฟัะฐัะธั ะบ ะธะทะผะตะฝะตะฝะธัะผ API ัะตัะตะท ัะธะฟะธะทะธัะพะฒะฐะฝะฝัะน ะบะปะธะตะฝั
3. **ะะพะผะฟะพะฝะตะฝัะฝะฐั ะฐััะธัะตะบัััะฐ**: ะะตัะตะธัะฟะพะปัะทัะตะผัะต React ะบะพะผะฟะพะฝะตะฝัั
4. **ะขะธะฟะพะฑะตะทะพะฟะฐัะฝะพััั**: TypeScript ะฝะฐ ััะพะฝัะตะฝะดะต, Pydantic ะฝะฐ ะฑัะบะตะฝะดะต

### ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
rag_crawl/
โโโ frontend/              # Next.js ะฟัะธะปะพะถะตะฝะธะต
โ   โโโ src/
โ   โ   โโโ app/          # Next.js App Router
โ   โ   โโโ components/   # React ะบะพะผะฟะพะฝะตะฝัั
โ   โ   โโโ hooks/        # React ััะบะธ
โ   โ   โโโ lib/          # ะฃัะธะปะธัั ะธ API ะบะปะธะตะฝั
โ   โโโ package.json
โโโ src/rag_crawl/        # Python ะฑัะบะตะฝะด
โ   โโโ api/              # FastAPI ัะพััั
โ   โโโ services/         # ะะธะทะฝะตั-ะปะพะณะธะบะฐ
โ   โโโ database/         # SQLAlchemy ะผะพะดะตะปะธ
โ   โโโ utils/            # ะัะฟะพะผะพะณะฐัะตะปัะฝัะต ััะฝะบัะธะธ
โโโ alembic/              # ะะธะณัะฐัะธะธ ะะ
โโโ docker-compose.yml    # Docker ัะตัะฒะธัั
โโโ pyproject.toml        # Python ะทะฐะฒะธัะธะผะพััะธ
```

### ะะพะฑะฐะฒะปะตะฝะธะต ะฝะพะฒัั ััะฝะบัะธะน

#### Backend

1. ะกะพะทะดะฐะนัะต ะฝะพะฒัะต ะผะพะดะตะปะธ ะฒ `src/rag_crawl/database/models.py`
2. ะะพะฑะฐะฒััะต ะฑะธะทะฝะตั-ะปะพะณะธะบั ะฒ `src/rag_crawl/services/`
3. ะกะพะทะดะฐะนัะต API endpoints ะฒ `src/rag_crawl/api/`
4. ะะฑะฝะพะฒะธัะต ััะตะผั Pydantic

#### Frontend

1. ะะฑะฝะพะฒะธัะต ัะธะฟั ะฒ `frontend/src/lib/api.ts`
2. ะะพะฑะฐะฒััะต ะฝะพะฒัะต ะผะตัะพะดั ะฒ `ApiClient`
3. ะกะพะทะดะฐะนัะต ััะบะธ ะดะปั ัะฟัะฐะฒะปะตะฝะธั ัะพััะพัะฝะธะตะผ
4. ะะตะฐะปะธะทัะนัะต UI ะบะพะผะฟะพะฝะตะฝัั

## ๐งช ะขะตััะธัะพะฒะฐะฝะธะต

### Backend ัะตััั

```bash
poetry run pytest
```

### Frontend ัะตััั

```bash
cd frontend
npm run test
```

## ๐ฆ ะะตะฟะปะพะน

### Production ัะฑะพัะบะฐ

```bash
# Backend
poetry build

# Frontend
cd frontend
npm run build
```

### Docker production

```bash
docker-compose -f docker-compose.prod.yml up -d
```

## ๐ค ะะบะปะฐะด ะฒ ะฟัะพะตะบั

1. ะคะพัะบะฝะธัะต ัะตะฟะพะทะธัะพัะธะน
2. ะกะพะทะดะฐะนัะต feature ะฒะตัะบั
3. ะะฝะตัะธัะต ะธะทะผะตะฝะตะฝะธั
4. ะะพะฑะฐะฒััะต ัะตััั
5. ะัะฟัะฐะฒััะต Pull Request

## ๐ ะะธัะตะฝะทะธั

MIT License

## ๐ ะะพะดะดะตัะถะบะฐ

- ๐ [ะะพะบัะผะตะฝัะฐัะธั](./docs/)
- ๐ [Issues](https://github.com/your-repo/issues)
- ๐ฌ [Discussions](https://github.com/your-repo/discussions) 