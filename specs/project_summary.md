# RAG Crawl - –†–µ–∑—é–º–µ –ø—Ä–æ–µ–∫—Ç–∞

## üéØ –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞

–°–æ–∑–¥–∞–Ω–∏–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞ –¥–ª—è **RAG (Retrieval Augmented Generation)** —Å–∏—Å—Ç–µ–º—ã —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é:
- –ó–∞–≥—Ä—É–∑–∫–∏ –∏ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤
- –î–∏–∞–ª–æ–≥–æ–≤–æ–≥–æ –æ–±—â–µ–Ω–∏—è —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ —á–µ—Ä–µ–∑ —á–∞—Ç-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å  
- –£–∫–∞–∑–∞–Ω–∏—è —Ç–æ—á–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –≤ –æ—Ç–≤–µ—Ç–∞—Ö
- –†–µ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –ø–æ –≥—Ä—É–ø–ø–∞–º (namespace)

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|------------|------------|
| **Backend** | FastAPI + Python 3.11 | REST API –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ |
| **UI** | Gradio 4.7+ | –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –¥–µ–º–æ |
| **RAG Framework** | LlamaIndex 0.9+ | –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ retrieval |
| **LLM** | Azure OpenAI GPT-4 | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ |
| **Embeddings** | Azure OpenAI text-embedding-ada-002 | –í–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ |
| **Vector DB** | Qdrant 1.6+ | –•—Ä–∞–Ω–µ–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–æ–≤ |
| **Metadata DB** | PostgreSQL 15 | –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏ –∏—Å—Ç–æ—Ä–∏—è |
| **Dependencies** | Poetry | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ |
| **Containers** | Docker Compose | –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ |

### –ü–æ—Ä—Ç—ã —Å–µ—Ä–≤–∏—Å–æ–≤
- **FastAPI**: 8000 (–æ—Å–Ω–æ–≤–Ω–æ–π API + –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π Gradio)
- **PostgreSQL**: 5432
- **Qdrant**: 6333 (HTTP), 6334 (gRPC)

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
rag_crawl/
‚îú‚îÄ‚îÄ specs/                    # üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ src/rag_crawl/           # üêç –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ config.py            # ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ main.py              # üöÄ FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ  
‚îÇ   ‚îú‚îÄ‚îÄ database/            # üóÑÔ∏è –ú–æ–¥–µ–ª–∏ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ services/            # üîß –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ api/                 # üåê REST API endpoints
‚îÇ   ‚îú‚îÄ‚îÄ ui/                  # üé® Gradio –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îî‚îÄ‚îÄ utils/               # üõ†Ô∏è –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ tests/                   # üß™ –¢–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ alembic/                 # üìä –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
‚îú‚îÄ‚îÄ .cursorrules             # üìã –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
‚îú‚îÄ‚îÄ docker-compose.yml       # üê≥ –õ–æ–∫–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
‚îî‚îÄ‚îÄ pyproject.toml           # üì¶ Poetry –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```

## üîÑ –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã

### 1. –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí Gradio UI ‚Üí FastAPI ‚Üí DocumentService ‚Üí 
‚Üí –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ ‚Üí Chunking ‚Üí PostgreSQL (–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ) ‚Üí 
‚Üí VectorService ‚Üí Azure OpenAI (embeddings) ‚Üí Qdrant (–≤–µ–∫—Ç–æ—Ä—ã)
```

### 2. –ß–∞—Ç-–∑–∞–ø—Ä–æ—Å  
```
–í–æ–ø—Ä–æ—Å ‚Üí Gradio UI ‚Üí FastAPI ‚Üí RAGService ‚Üí 
‚Üí VectorService ‚Üí –ü–æ–∏—Å–∫ –ø–æ—Ö–æ–∂–∏—Ö chunks ‚Üí 
‚Üí Azure OpenAI (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞) ‚Üí –û—Ç–≤–µ—Ç —Å –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏
```

### 3. –†–µ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
```
–¢—Ä–∏–≥–≥–µ—Ä ‚Üí DocumentService ‚Üí –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π ‚Üí 
‚Üí –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –≤–µ–∫—Ç–æ—Ä–æ–≤ ‚Üí –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ ‚Üí 
‚Üí –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ë–î –∏ –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
```

## üìã –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã
- **–ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** —Å —á–µ—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º —Å–ª–æ–µ–≤
- **Dependency Injection** –¥–ª—è —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç–∏
- **Single Responsibility** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
- **–¢–æ–Ω–∫–∏–µ API –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã** - –≤—Å—è –ª–æ–≥–∏–∫–∞ –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö

### –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **OOP –±–µ–∑ –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏** - –∫–æ–º–ø–æ–∑–∏—Ü–∏—è –≤–º–µ—Å—Ç–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
- **–¢–∏–ø–∏–∑–∞—Ü–∏—è –≤–µ–∑–¥–µ** - type hints –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã
- **Structured logging** - JSON —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –ª–æ–≥–æ–≤
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ ENV** - Pydantic Settings

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–æ–≤
- **–°–µ—Ä–≤–∏—Å—ã**: –º–∞–∫—Å–∏–º—É–º 300 —Å—Ç—Ä–æ–∫ –Ω–∞ —Ñ–∞–π–ª
- **–§—É–Ω–∫—Ü–∏–∏**: –º–∞–∫—Å–∏–º—É–º 50 —Å—Ç—Ä–æ–∫, 4 –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
- **API endpoints**: –º–∞–∫—Å–∏–º—É–º 150 —Å—Ç—Ä–æ–∫ –Ω–∞ —Ñ–∞–π–ª

## üóÉÔ∏è –°—Ö–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö

### PostgreSQL —Ç–∞–±–ª–∏—Ü—ã
```sql
documents          # –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (title, namespace, source_type, etc.)
document_chunks    # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ chunks (content, vector_id, metadata)
chat_history       # –ò—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–æ–≤ (user_message, assistant_message, sources_used)
```

### Qdrant –∫–æ–ª–ª–µ–∫—Ü–∏–∏
```
documents          # –í–µ–∫—Ç–æ—Ä—ã chunks (1536 –∏–∑–º–µ—Ä–µ–Ω–∏–π, metadata —Å document_id)
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
poetry install

# 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å .env —Å Azure OpenAI –∫–ª—é—á–∞–º–∏

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É  
docker-compose up -d postgres qdrant

# 4. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
poetry run alembic upgrade head

# 5. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
poetry run python -m rag_crawl.main
```

–î–æ—Å—Ç—É–ø:
- **API Docs**: http://localhost:8000/docs
- **Gradio UI**: http://localhost:8000

## üé® –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### Gradio —Ñ—É–Ω–∫—Ü–∏–∏
- **–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤**: drag&drop –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ namespace**: –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- **–ß–∞—Ç-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: –¥–∏–∞–ª–æ–≥ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- **–†–µ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è**: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- **–ò—Å—Ç–æ—Ä–∏—è —á–∞—Ç–æ–≤**: –ø—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –¥–∏–∞–ª–æ–≥–æ–≤

### API Endpoints  
```
POST /api/documents/upload      # –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞
GET  /api/documents             # –°–ø–∏—Å–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤  
POST /api/documents/resync      # –†–µ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
POST /api/chat                  # –ß–∞—Ç API
GET  /api/chat/history         # –ò—Å—Ç–æ—Ä–∏—è —á–∞—Ç–æ–≤
GET  /api/health               # Health check
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Azure OpenAI

### –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ deployments
```bash
AZURE_OPENAI_CHAT_DEPLOYMENT=gpt-4                    # –î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤
AZURE_OPENAI_EMBEDDING_DEPLOYMENT=text-embedding-ada-002  # –î–ª—è –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ chunking
```bash
MAX_CHUNK_SIZE=1024            # –†–∞–∑–º–µ—Ä chunks –≤ —Ç–æ–∫–µ–Ω–∞—Ö
CHUNK_OVERLAP=200              # –ü–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ –º–µ–∂–¥—É chunks
MAX_RETRIEVAL_RESULTS=3        # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –≤ –æ—Ç–≤–µ—Ç–µ
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤
```
tests/
‚îú‚îÄ‚îÄ unit/           # –ë—ã—Å—Ç—Ä—ã–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (–º–æ–∫–∏—Ä—É–µ–º –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã)
‚îú‚îÄ‚îÄ integration/    # –¢–µ—Å—Ç—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –ë–î –∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏  
‚îî‚îÄ‚îÄ fixtures/       # –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ —Ñ–∏–∫—Å—Ç—É—Ä—ã
```

### –ö–æ–º–∞–Ω–¥—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```bash
poetry run pytest                              # –í—Å–µ —Ç–µ—Å—Ç—ã
poetry run pytest --cov=src/rag_crawl         # –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º
poetry run pytest tests/unit/                 # –¢–æ–ª—å–∫–æ unit —Ç–µ—Å—Ç—ã
poetry run pytest tests/integration/          # –¢–æ–ª—å–∫–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–ª–∞–¥–∫–∞

### Health Checks
```bash
curl http://localhost:8000/api/health
```

### –û—Ç–ª–∞–¥–∫–∞ Qdrant
```bash
curl http://localhost:6333/collections                    # –°–ø–∏—Å–æ–∫ –∫–æ–ª–ª–µ–∫—Ü–∏–π
curl http://localhost:6333/collections/documents          # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
```

### –û—Ç–ª–∞–¥–∫–∞ PostgreSQL
```bash
docker-compose exec postgres psql -U rag_user -d rag_crawl
```

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –¢–µ–∫—É—â–∏–µ –º–µ—Ä—ã
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö** —á–µ—Ä–µ–∑ Pydantic
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–æ–≤ —Ñ–∞–π–ª–æ–≤** (100MB)
- **–°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –∏–º–µ–Ω —Ñ–∞–π–ª–æ–≤**
- **–°–µ–∫—Ä–µ—Ç—ã —á–µ—Ä–µ–∑ ENV –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ**

### –ü–ª–∞–Ω—ã (–±—É–¥—É—â–∏–µ –≤–µ—Ä—Å–∏–∏)
- JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- Rate limiting
- –í—Ö–æ–¥–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞

## üìà –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è

### MVP (–≤–µ—Ä—Å–∏—è 0.1)
- ‚úÖ –ë–∞–∑–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (PDF, —Ç–µ–∫—Å—Ç)
- ‚úÖ –ü—Ä–æ—Å—Ç–æ–π —á–∞—Ç —Å –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏
- ‚úÖ REST API
- ‚úÖ Docker Compose –æ–∫—Ä—É–∂–µ–Ω–∏–µ

### –í–µ—Ä—Å–∏—è 0.2
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Word, Markdown, HTML
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ crawling —Å–µ—Ä–≤–∏—Å–∞–º–∏
- [ ] Batch –∑–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- [ ] Redis –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

### –í–µ—Ä—Å–∏—è 0.3+
- [ ] –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [ ] –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- [ ] –ú–µ—Ç—Ä–∏–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- [ ] –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

## üö´ –¢–µ–∫—É—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### –ß—Ç–æ –ù–ï –≤–∫–ª—é—á–µ–Ω–æ –≤ MVP
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- –ú—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω–æ—Å—Ç—å  
- –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤
- –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã re-ranking
- –ö–∞—Å—Ç–æ–º–Ω—ã–µ embedding –º–æ–¥–µ–ª–∏
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ crawlers

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- –û–¥–∏–Ω –∏–Ω—Å—Ç–∞–Ω—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –õ–æ–∫–∞–ª—å–Ω–∞—è —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
- –ë–µ–∑ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –ë–∞–∑–æ–≤—ã–π error handling

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
poetry install

# –ó–∞–ø—É—Å–∫ dev –æ–∫—Ä—É–∂–µ–Ω–∏—è  
docker-compose up -d
poetry run python -m rag_crawl.main

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
poetry run pytest

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
poetry run black src/ tests/
poetry run isort src/ tests/

# –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
poetry run alembic upgrade head
```

### –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º
1. **Azure OpenAI**: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–ª—é—á–∏ –∏ deployment names
2. **Qdrant**: –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏  
3. **PostgreSQL**: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏, –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ë–î
4. **Memory issues**: —É–º–µ–Ω—å—à–∏—Ç—å —Ä–∞–∑–º–µ—Ä chunks 